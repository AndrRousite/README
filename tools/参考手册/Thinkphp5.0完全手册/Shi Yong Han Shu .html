<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>使用函数</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_133">使用函数</h1>
<div class="book-content">
    <p class="calibre10">我们往往需要对模板输出变量使用函数，可以使用：</p>
<pre class="calibre21"><code class="calibre22">{$data.name|md5} </code></pre>
<p class="calibre10">编译后的结果是：</p>
<pre class="calibre21"><code class="calibre22">&lt;?php echo (md5($data['name'])); ?&gt;</code></pre>
<p class="calibre10">如果函数有多个参数需要调用，则使用：</p>
<pre class="calibre21"><code class="calibre22">{$create_time|date="y-m-d",###}</code></pre>
<p class="calibre10">表示date函数传入两个参数，每个参数用逗号分割，这里第一个参数是<code class="calibre7">y-m-d</code>，第二个参数是前面要输出的<code class="calibre7">create_time</code>变量，因为该变量是第二个参数，因此需要用###标识变量位置，编译后的结果是：</p>
<pre class="calibre21"><code class="calibre22">&lt;?php echo (date("y-m-d",$create_time)); ?&gt;</code></pre>
<p class="calibre10">如果前面输出的变量在后面定义的函数的第一个参数，则可以直接使用：</p>
<pre class="calibre21"><code class="calibre22">{$data.name|substr=0,3}</code></pre>
<p class="calibre10">表示输出</p>
<pre class="calibre21"><code class="calibre22">&lt;?php echo (substr($data['name'],0,3)); ?&gt;</code></pre>
<p class="calibre10">虽然也可以使用：</p>
<pre class="calibre21"><code class="calibre22">{$data.name|substr=###,0,3}</code></pre>
<p class="calibre10">但完全没用这个必要。</p>
<p class="calibre10">还可以支持多个函数过滤，多个函数之间用“|”分割即可，例如：</p>
<pre class="calibre21"><code class="calibre22">{$name|md5|strtoupper|substr=0,3}</code></pre>
<p class="calibre10">编译后的结果是：</p>
<pre class="calibre21"><code class="calibre22">&lt;?php echo (substr(strtoupper(md5($name)),0,3)); ?&gt;</code></pre>
<p class="calibre10">函数会按照从左到右的顺序依次调用。</p>
<p class="calibre10">如果你觉得这样写起来比较麻烦，也可以直接这样写：</p>
<pre class="calibre21"><code class="calibre22">{:substr(strtoupper(md5($name)),0,3)}</code></pre>
<blockquote class="calibre5">
<p class="calibre14">变量输出使用的函数可以支持内置的PHP函数或者用户自定义函数，甚至是静态方法。</p>
</blockquote>
</div>
	
</body></html>
