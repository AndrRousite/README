<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>验证器</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_169">验证器</h1>
<div class="book-content">
    <h2 id="%E6%A6%82%E8%BF%B0-3" class="calibre15">概述</h2>
<p class="calibre10">ThinkPHP<code class="calibre7">5.0</code>验证使用独立的<code class="calibre7">\think\Validate</code>类或者验证器进行验证。</p>
<h2 id="%E7%8B%AC%E7%AB%8B%E9%AA%8C%E8%AF%81" class="calibre15">独立验证</h2>
<p class="calibre10">任何时候，都可以使用<code class="calibre7">Validate</code>类进行独立的验证操作，例如：</p>
<pre class="calibre21"><code class="calibre22">$validate = new Validate([
    'name'  =&gt; 'require|max:25',
    'email' =&gt; 'email'
]);
$data = [
    'name'  =&gt; 'thinkphp',
    'email' =&gt; 'thinkphp@qq.com'
];
if (!$validate-&gt;check($data)) {
    dump($validate-&gt;getError());
}</code></pre>
<h2 id="%E9%AA%8C%E8%AF%81%E5%99%A8" class="calibre15">验证器</h2>
<p class="calibre10">这是<code class="calibre7">5.0</code>推荐的验证方式，为具体的验证场景或者数据表定义好验证器类，直接调用验证类的<code class="calibre7">check</code>方法即可完成验证，下面是一个例子：</p>
<p class="calibre10">我们定义一个<code class="calibre7">\app\index\validate\User</code>验证器类用于<code class="calibre7">User</code>的验证。</p>
<pre class="calibre21"><code class="calibre22">namespace app\index\validate;

use think\Validate;

class User extends Validate
{
    protected $rule = [
        'name'  =&gt;  'require|max:25',
        'email' =&gt;  'email',
    ];

}</code></pre>
<p class="calibre10">在需要进行<code class="calibre7">User</code>验证的地方，添加如下代码即可：</p>
<pre class="calibre21"><code class="calibre22">$data = [
    'name'=&gt;'thinkphp',
    'email'=&gt;'thinkphp@qq.com'
];

$validate = Loader::validate('User');

if(!$validate-&gt;check($data)){
    dump($validate-&gt;getError());
}</code></pre>
<p class="calibre10">使用助手函数实例化验证器</p>
<pre class="calibre21"><code class="calibre22">$validate = validate('User');</code></pre>
</div>
	
</body></html>
