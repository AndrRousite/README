<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>虚拟主机环境</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_216">虚拟主机环境</h1>
<div class="book-content">
    <p class="calibre10">ThinkPHP 支持各种各样的线上生产环境，如果你的生产环境与开发环境不符，需要稍作调整 ThinkPHP 的配置，以适应线上生产环境</p>
<h2 id="%E4%BF%AE%E6%94%B9%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6" class="calibre15">修改入口文件</h2>
<p class="calibre10">5.0默认的应用入口文件位于<code class="calibre7">public/index.php</code>，内容如下：</p>
<pre class="calibre21"><code class="calibre22">// 定义应用目录
define('APP_PATH', __DIR__ . '/../application/');
// 加载框架引导文件
require __DIR__ . '/../thinkphp/start.php';</code></pre>
<blockquote class="info">
<p class="calibre14">入口文件位置的设计是为了让应用部署更安全，public目录为web可访问目录，其他的文件都可以放到非WEB访问目录下面。</p>
</blockquote>
<p class="calibre10">我们也可以改变入口文件的位置及内容，例如把入口文件改到根目录下面改成：</p>
<pre class="calibre21"><code class="calibre22">// 应用目录
define('APP_PATH', __DIR__.'/apps/');
// 加载框架引导文件
require './thinkphp/start.php';</code></pre>
<blockquote class="calibre5">
<p class="calibre14">注意：APP_PATH的定义支持相对路径和绝对路径，但必须以“/”结束</p>
</blockquote>
<p class="calibre10">如果你调整了框架核心目录的位置或者目录名，只需要这样修改：</p>
<pre class="calibre21"><code class="calibre22">// 改变应用目录的名称
define('APP_PATH', __DIR__.'/apps/');
// 加载框架引导文件
require './think/start.php';</code></pre>
<p class="calibre10">这样最终的应用目录结构如下：</p>
<pre class="calibre21"><code class="calibre22">www  WEB部署目录（或者子目录）
├─index.php       应用入口文件
├─apps            应用目录
└─think           框架目录</code></pre>
</div>
	
</body></html>
