<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>调试模式</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_159">调试模式</h1>
<div class="book-content">
    <p class="calibre10">ThinkPHP有专门为开发过程而设置的调试模式，开启调试模式后，会牺牲一定的执行效率，但带来的方便和除错功能非常值得。</p>
<blockquote class="calibre5">
<p class="calibre14">我们强烈建议ThinkPHP开发人员在开发阶段始终开启调试模式（直到正式部署后关闭调试模式），方便及时发现隐患问题和分析、解决问题。</p>
</blockquote>
<p class="calibre10">应用默认开启调试模式，在完成开发阶段部署到生产环境后，可以修改应用配置文件的<code class="calibre7">app_debug</code>参数关闭调试模式切换到部署模式。</p>
<pre class="calibre21"><code class="calibre22">// 关闭调试模式
'app_debug' =&gt; false,</code></pre>
<p class="calibre10">除此之外，还可以在应用的<code class="calibre7">ROOT_PATH</code>目录下面定义<code class="calibre7">.env</code>文件，并且定义<code class="calibre7">APP_DEBUG</code>配置参数用于替代入口文件的常量定义，这样便于在部署环境中设置环境变量来开启和关闭调试模式。</p>
<p class="calibre10"><code class="calibre7">.env</code>文件的定义格式如下：</p>
<pre class="calibre21"><code class="calibre22">// 设置开启调试模式
app_debug =  true
// 其它的环境变量设置
// ...</code></pre>
<blockquote class="calibre5">
<p class="calibre14">定义了<code class="calibre7">.env</code>文件后，配置文件中定义<code class="calibre7">app_debug</code>参数无效。</p>
</blockquote>
<p class="calibre10">调试模式的优势在于：</p>
<ul class="calibre23"><li class="calibre20">开启日志记录，任何错误信息和调试信息都会详细记录，便于调试；</li>
<li class="calibre20">会详细记录整个执行过程；</li>
<li class="calibre20">模板修改可以即时生效；</li>
<li class="calibre20">记录SQL日志，方便分析SQL；</li>
<li class="calibre20">通过Trace功能更好的调试和发现错误；</li>
<li class="calibre20">发生异常的时候会显示详细的异常信息；</li>
</ul><blockquote class="calibre5">
<p class="calibre14">由于调试模式没有任何缓存，因此涉及到较多的文件IO操作和模板实时编译，所以在开启调试模式的情况下，性能会有一定的下降，但不会影响部署模式的性能。另外需要注意的是，一旦关闭调试模式，项目的调试配置文件即刻失效。</p>
</blockquote>
<p class="calibre10">一旦关闭调试模式，发生错误后不会提示具体的错误信息，如果你仍然希望看到具体的错误信息，那么可以如下设置：</p>
<pre class="calibre21"><code class="calibre22">// 显示错误信息
'show_error_msg'        =&gt;  true,    </code></pre>
</div>
	
</body></html>
