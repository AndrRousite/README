<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>路由分组</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_36">路由分组</h1>
<div class="book-content">
    <h2 id="%E8%B7%AF%E7%94%B1%E5%88%86%E7%BB%84" class="calibre15">路由分组</h2>
<p class="calibre10">路由分组功能允许把相同前缀的路由定义合并分组，这样可以提高路由匹配的效率，不必每次都去遍历完整的路由规则。</p>
<p class="calibre10">例如，我们有定义如下两个路由规则的话</p>
<pre class="calibre21"><code class="calibre22">'blog/:id'   =&gt; ['Blog/read', ['method' =&gt; 'get'], ['id' =&gt; '\d+']],
'blog/:name' =&gt; ['Blog/read', ['method' =&gt; 'post']],</code></pre>
<p class="calibre10">可以合并到一个blog分组</p>
<pre class="calibre21"><code class="calibre22">'[blog]'     =&gt; [
    ':id'   =&gt; ['Blog/read', ['method' =&gt; 'get'], ['id' =&gt; '\d+']],
    ':name' =&gt; ['Blog/read', ['method' =&gt; 'post']],
],</code></pre>
<p class="calibre10">可以使用<code class="calibre7">Route</code>类的<code class="calibre7">group</code>方法进行注册，如下：</p>
<pre class="calibre21"><code class="calibre22">Route::group('blog',[
    ':id'   =&gt; ['Blog/read', ['method' =&gt; 'get'], ['id' =&gt; '\d+']],
    ':name' =&gt; ['Blog/read', ['method' =&gt; 'post']],
]);</code></pre>
<p class="calibre10">可以给分组路由定义一些公用的路由设置参数，例如：</p>
<pre class="calibre21"><code class="calibre22">Route::group('blog',[
    ':id'   =&gt; ['Blog/read', [], ['id' =&gt; '\d+']],
    ':name' =&gt; ['Blog/read', [],
],['method'=&gt;'get','ext'=&gt;'html']);</code></pre>
<p class="calibre10">支持使用闭包方式注册路由分组，例如：</p>
<pre class="calibre21"><code class="calibre22">Route::group('blog',function(){
    Route::rule(':id','blog/read',[],['id'=&gt;'\d+']);
    Route::rule(':name','blog/read',[],['name'=&gt;'\w+']);
},['method'=&gt;'get','ext'=&gt;'html']);</code></pre>
<p class="calibre10">如果仅仅是用于对一些路由规则设置一些公共的路由参数，也可以使用：</p>
<pre class="calibre21"><code class="calibre22">Route::group(['method'=&gt;'get','ext'=&gt;'html'],function(){
    Route::rule('blog/:id','blog/read',[],['id'=&gt;'\d+']);
    Route::rule('blog/:name','blog/read',[],['name'=&gt;'\w+']);
});</code></pre>
<p class="calibre10">路由分组支持嵌套，例如：</p>
<pre class="calibre21"><code class="calibre22">Route::group(['method'=&gt;'get','ext'=&gt;'html'],function(){
    Route::group('blog',function(){
        Route::rule('blog/:id','blog/read',[],['id'=&gt;'\d+']);
        Route::rule('blog/:name','blog/read',[],['name'=&gt;'\w+']);
    }
});</code></pre>
</div>
	
</body></html>
