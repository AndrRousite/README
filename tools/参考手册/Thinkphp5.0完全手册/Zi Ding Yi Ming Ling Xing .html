<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>自定义命令行</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_214">自定义命令行</h1>
<div class="book-content">
    <h2 id="%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4%E8%A1%8C" class="calibre15">创建自定义命令行</h2>
<p class="calibre10">第一步，配置command.php文件，目录在application/command.php</p>
<pre class="calibre21"><code class="calibre22">&lt;?php
return [
    'app\home\command\Test',
];</code></pre>
<p class="calibre10">第二步，建立命令类文件，新建application/home/command/Test.php</p>
<pre class="calibre21"><code class="calibre22">&lt;?php
namespace app\home\command;

use think\console\Command;
use think\console\Input;
use think\console\Output;

class Test extends Command
{
    protected function configure()
    {
        $this-&gt;setName('test')-&gt;setDescription('Here is the remark ');
    }

    protected function execute(Input $input, Output $output)
    {
        $output-&gt;writeln("TestCommand:");
    }
}</code></pre>
<p class="calibre10">这个文件定义了一个叫test的命令，备注为Here is the remark，<br class="calibre16"/>
执行命令会输出TestCommand。</p>
<p class="calibre10">第三步，测试-命令帮助-命令行下运行</p>
<pre class="calibre21"><code class="calibre22">php think</code></pre>
<p class="calibre10">输出</p>
<pre class="calibre21"><code class="calibre22">Think Console version 0.1

Usage:
  command [options] [arguments]

Options:
  -h, --help            Display this help message
  -V, --version         Display this console version
  -q, --quiet           Do not output any message
      --ansi            Force ANSI output
      --no-ansi         Disable ANSI output
  -n, --no-interaction  Do not ask any interactive question
  -v|vv|vvv, --verbose  Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug

Available commands:
  build              Build Application Dirs
  clear              Clear runtime file
  help               Displays help for a command
  list               Lists commands
  test               Here is the remark 
 make
  make:controller    Create a new resource controller class
  make:model         Create a new model class
 optimize
  optimize:autoload  Optimizes PSR0 and PSR4 packages to be loaded with classmaps too, good for production.
  optimize:config    Build config and common file cache.
  optimize:route     Build route cache.
  optimize:schema    Build database schema cache.
</code></pre>
<p class="calibre10">第四步，运行test命令</p>
<pre class="calibre21"><code class="calibre22">php think test</code></pre>
<p class="calibre10">输出</p>
<pre class="calibre21"><code class="calibre22">TestCommand:
</code></pre>
</div>
	
</body></html>
