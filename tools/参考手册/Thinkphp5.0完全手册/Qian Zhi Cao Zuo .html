<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>前置操作</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_46">前置操作</h1>
<div class="book-content">
    <p class="calibre10">可以为某个或者某些操作指定前置执行的操作方法，设置 <code class="calibre7">beforeActionList</code>属性可以指定某个方法为其他方法的前置操作，数组键名为需要调用的前置方法名，无值的话为当前控制器下所有方法的前置方法。</p>
<pre class="calibre21"><code class="calibre22">['except' =&gt; '方法名,方法名']</code></pre>
<p class="calibre10">表示这些方法不使用前置方法，</p>
<pre class="calibre21"><code class="calibre22">['only' =&gt; '方法名,方法名']</code></pre>
<p class="calibre10">表示只有这些方法使用前置方法。</p>
<p class="calibre10">示例如下:</p>
<pre class="calibre21"><code class="calibre22">namespace app\index\controller;

use think\Controller;

class Index extends Controller
{
    protected $beforeActionList = [
        'first',
        'second' =&gt;  ['except'=&gt;'hello'],
        'three'  =&gt;  ['only'=&gt;'hello,data'],
    ];

    protected function first()
    {
        echo 'first&lt;br/&gt;';
    }

    protected function second()
    {
        echo 'second&lt;br/&gt;';
    }

    protected function three()
    {
        echo 'three&lt;br/&gt;';
    }

    public function hello()
    {
        return 'hello';
    }

    public function data()
    {
        return 'data';
    }
}</code></pre>
<p class="calibre10">访问 </p>
<pre class="calibre21"><code class="calibre22">http://localhost/index.php/index/Index/hello</code></pre>
<p class="calibre10">最后的输出结果是</p>
<pre class="calibre21"><code class="calibre22">first
three
hello</code></pre>
<p class="calibre10">访问</p>
<pre class="calibre21"><code class="calibre22">http://localhost/index.php/index/Index/data</code></pre>
<p class="calibre10">的输出结果是：</p>
<pre class="calibre21"><code class="calibre22">first
second
three
data</code></pre>
</div>
	
</body></html>
