<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>错误信息</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_171">错误信息</h1>
<div class="book-content">
    <p class="calibre10">验证规则的错误提示信息有三种方式可以定义，如下：</p>
<h2 id="%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E7%9A%84%E9%94%99%E8%AF%AF%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF" class="calibre15">使用默认的错误提示信息</h2>
<p class="calibre10">如果没有定义任何的验证提示信息，系统会显示默认的错误信息，例如：</p>
<pre class="calibre21"><code class="calibre22">$rule = [
    'name'  =&gt; 'require|max:25',
    'age'   =&gt; 'number|between:1,120',
    'email' =&gt; 'email',
];

$data = [
    'name'  =&gt; 'thinkphp',
    'age'   =&gt; 121,
    'email' =&gt; 'thinkphp@qq.com',
];
$validate = new Validate($rule);
$result   = $validate-&gt;check($data);
if(!$result){
    echo $validate-&gt;getError();
}</code></pre>
<p class="calibre10">会输出 <code class="calibre7">age只能在 1 - 120 之间</code>。</p>
<p class="calibre10">可以给age字段设置中文名，例如：</p>
<pre class="calibre21"><code class="calibre22">$rule = [
    'name'  =&gt; 'require|max:25',
    'age|年龄'   =&gt; 'number|between:1,120',
    'email' =&gt; 'email',
];

$data = [
    'name'  =&gt; 'thinkphp',
    'age'   =&gt; 121,
    'email' =&gt; 'thinkphp@qq.com',
];
$validate = new Validate($rule);
$result   = $validate-&gt;check($data);
if(!$result){
    echo $validate-&gt;getError();
}</code></pre>
<p class="calibre10">会输出 <code class="calibre7">年龄只能在 1 - 120 之间</code>。</p>
<h2 id="%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99%E5%92%8C%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF%E5%88%86%E5%BC%80%E5%AE%9A%E4%B9%89" class="calibre15">验证规则和提示信息分开定义</h2>
<p class="calibre10">如果要输出自定义的错误信息，有两种方式可以设置。下面的一种方式是验证规则和提示信息分开定义：</p>
<pre class="calibre21"><code class="calibre22">$rule = [
    'name'  =&gt; 'require|max:25',
    'age'   =&gt; 'number|between:1,120',
    'email' =&gt; 'email',
];
$msg = [
    'name.require' =&gt; '名称必须',
    'name.max'     =&gt; '名称最多不能超过25个字符',
    'age.number'   =&gt; '年龄必须是数字',
    'age.between'  =&gt; '年龄必须在1~120之间',
    'email'        =&gt; '邮箱格式错误',
];
$data = [
    'name'  =&gt; 'thinkphp',
    'age'   =&gt; 121,
    'email' =&gt; 'thinkphp@qq.com',
];
$validate = new Validate($rule,$msg);
$result   = $validate-&gt;check($data);
if(!$result){
    echo $validate-&gt;getError();
}</code></pre>
<p class="calibre10">会输出 <code class="calibre7">年龄必须在1~120之间</code>。</p>
<h2 id="%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99%E5%92%8C%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF%E4%B8%80%E8%B5%B7%E5%AE%9A%E4%B9%89" class="calibre15">验证规则和提示信息一起定义</h2>
<p class="calibre10">可以支持验证规则和错误信息一起定义的方式，如下：</p>
<pre class="calibre21"><code class="calibre22">$rule = [
    ['name','require|max:25','名称必须|名称最多不能超过25个字符'],
    ['age','number|between:1,120','年龄必须是数字|年龄必须在1~120之间'],
    ['email','email','邮箱格式错误']
];

$data = [
    'name'  =&gt; 'thinkphp',
    'age'   =&gt; 121,
    'email' =&gt; 'thinkphp@qq.com',
];
$validate = new Validate($rule);
$result   = $validate-&gt;check($data);
if(!$result){
    echo $validate-&gt;getError();
}</code></pre>
</div>
	
</body></html>
