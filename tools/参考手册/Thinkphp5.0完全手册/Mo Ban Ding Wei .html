<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>模板定位</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_128">模板定位</h1>
<div class="book-content">
    <h2 id="%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%E5%AE%9A%E4%B9%89" class="calibre15">模板文件定义</h2>
<p class="calibre10">每个模块的模板文件是独立的，为了对模板文件更加有效的管理，ThinkPHP对模板文件进行目录划分，默认的模板文件定义规则是：</p>
<blockquote class="info">
<h3 id="%E8%A7%86%E5%9B%BE%E7%9B%AE%E5%BD%95%2F%E6%8E%A7%E5%88%B6%E5%99%A8%E5%90%8D%EF%BC%88%E5%B0%8F%E5%86%99%EF%BC%89%2F%E6%93%8D%E4%BD%9C%E5%90%8D%EF%BC%88%E5%B0%8F%E5%86%99%EF%BC%89%2B%E6%A8%A1%E6%9D%BF%E5%90%8E%E7%BC%80" class="calibre17">视图目录/控制器名（小写）/操作名（小写）+模板后缀</h3>
</blockquote>
<p class="calibre10">默认的视图目录是<strong class="calibre12">模块的view目录</strong>，框架的默认视图文件后缀是<code class="calibre7">.html</code>。 </p>
<h2 id="%E6%A8%A1%E6%9D%BF%E6%B8%B2%E6%9F%93%E8%A7%84%E5%88%99" class="calibre15">模板渲染规则</h2>
<p class="calibre10">模板渲染使用<code class="calibre7">\think\View</code>类的<code class="calibre7">fetch</code>方法，渲染规则为：</p>
<blockquote class="info">
<h3 id="%E6%A8%A1%E5%9D%97%40%E6%8E%A7%E5%88%B6%E5%99%A8%2F%E6%93%8D%E4%BD%9C" class="calibre17">模块@控制器/操作</h3>
</blockquote>
<p class="calibre10">模板文件目录默认位于模块的view目录下面，视图类的fetch方法中的模板文件的定位规则如下：</p>
<p class="calibre10">如果调用没有任何参数的fetch方法：</p>
<pre class="calibre21"><code class="calibre22">return $view-&gt;fetch();</code></pre>
<p class="calibre10">则按照系统的默认规则定位模板文件到：</p>
<blockquote class="info">
<h4 id="%5B%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%5D%2F%E5%BD%93%E5%89%8D%E6%8E%A7%E5%88%B6%E5%99%A8%E5%90%8D%EF%BC%88%E5%B0%8F%E5%86%99%2B%E4%B8%8B%E5%88%92%E7%BA%BF%EF%BC%89%2F%E5%BD%93%E5%89%8D%E6%93%8D%E4%BD%9C%E5%90%8D%EF%BC%88%E5%B0%8F%E5%86%99%EF%BC%89.html" class="calibre6">[模板文件目录]/当前控制器名（小写+下划线）/当前操作名（小写）.html</h4>
</blockquote>
<p class="calibre10">如果（指定操作）调用：</p>
<pre class="calibre21"><code class="calibre22">return $view-&gt;fetch('add');</code></pre>
<p class="calibre10">则定位模板文件为：</p>
<blockquote class="info">
<h4 id="%5B%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%5D%2F%E5%BD%93%E5%89%8D%E6%8E%A7%E5%88%B6%E5%99%A8%E5%90%8D%EF%BC%88%E5%B0%8F%E5%86%99%2B%E4%B8%8B%E5%88%92%E7%BA%BF%EF%BC%89%2Fadd.html" class="calibre6">[模板文件目录]/当前控制器名（小写+下划线）/add.html</h4>
</blockquote>
<p class="calibre10">如果调用控制器的某个模板文件使用：</p>
<pre class="calibre21"><code class="calibre22">return $view-&gt;fetch('user/add');</code></pre>
<p class="calibre10">则定位模板文件为：</p>
<blockquote class="info">
<h4 id="%5B%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%5D%2Fuser%2Fadd.html" class="calibre6">[模板文件目录]/user/add.html</h4>
</blockquote>
<p class="calibre10">跨模块调用模板</p>
<pre class="calibre21"><code class="calibre22">return $view-&gt;fetch('admin@user/add');</code></pre>
<p class="calibre10">全路径模板调用：</p>
<pre class="calibre21"><code class="calibre22">return $view-&gt;fetch(APP_PATH.request()-&gt;module().'/view/public/header.html');</code></pre>
</div>
	
</body></html>
