<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>日志驱动</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_153">日志驱动</h1>
<div class="book-content">
    <h2 id="%E6%97%A5%E5%BF%97%E9%A9%B1%E5%8A%A8" class="calibre15">日志驱动</h2>
<p class="calibre10">日志可以通过驱动支持不同的方式写入，默认日志会记录到文件中，系统已经内置的写入驱动包括 <code class="calibre7">File</code>、<code class="calibre7">Socket</code>，如果要临时关闭日志写入，可以设置日志类型为Test即可，例如：</p>
<pre class="calibre21"><code class="calibre22">'log'   =&gt; [
    // 可以临时关闭日志写入
    'type'  =&gt; 'test',
],</code></pre>
<h3 id="%60file%60%E9%A9%B1%E5%8A%A8" class="calibre17"><code class="calibre7">File</code>驱动</h3>
<p class="calibre10">日志的记录方式默认是<code class="calibre7">File</code>方式，可以通过驱动的方式来扩展支持更多的记录方式。</p>
<p class="calibre10">记录方式由<code class="calibre7">log.type</code>参数配置，例如：</p>
<pre class="calibre21"><code class="calibre22">'log'   =&gt; [
    // 日志记录方式，支持 file socket
    'type' =&gt; 'File',
    //日志保存目录
    'path' =&gt; LOG_PATH,
    //单个日志文件的大小限制，超过后会自动记录到第二个文件
    'file_size'     =&gt;2097152,
    //日志的时间格式，默认是` c `
    'time_format'   =&gt;'c'
],</code></pre>
<blockquote class="calibre5">
<p class="calibre14">为了避免同一个目录下面的日志文件过多的性能问题，<code class="calibre7">file</code>方式记录的日志文件会自动生成日期子目录。</p>
</blockquote>
<h3 id="%60scoket%60%E9%A9%B1%E5%8A%A8" class="calibre17"><code class="calibre7">Scoket</code>驱动</h3>
<p class="calibre10">Socket驱动配置，具体参考后面的<code class="calibre7">远程调试</code>部分。</p>
<h3 id="%E5%85%B6%E4%BB%96%E9%A9%B1%E5%8A%A8" class="calibre17">其他驱动</h3>
<p class="calibre10">thinkphp5.0支持<code class="calibre7">SAE</code>驱动的扩展，具体参考“SAE”章节</p>
<blockquote class="info">
<p class="calibre14">每个日志记录方式需要对应一个日志驱动文件，例如File方式记录，对应的驱动文件是<code class="calibre7">library/think/log/driver/File.php</code>。</p>
</blockquote>
</div>
	
</body></html>
