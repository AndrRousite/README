<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>table</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title">table</h1>
<div class="book-content">
    <p class="calibre10">table方法主要用于指定操作的数据表。</p>
<h2 id="%E7%94%A8%E6%B3%95" class="calibre15">用法</h2>
<p class="calibre10">一般情况下，操作模型的时候系统能够自动识别当前对应的数据表，所以，使用table方法的情况通常是为了：</p>
<ol class="calibre18"><li class="calibre20">切换操作的数据表； </li>
<li class="calibre20">对多表进行操作； </li>
</ol><p class="calibre10">例如：</p>
<pre class="calibre21"><code class="calibre22">Db::table('think_user')-&gt;where('status&gt;1')-&gt;select();</code></pre>
<p class="calibre10">也可以在table方法中指定数据库，例如：</p>
<pre class="calibre21"><code class="calibre22">Db::table('db_name.think_user')-&gt;where('status&gt;1')-&gt;select();</code></pre>
<p class="calibre10">table方法指定的数据表需要完整的表名，但可以采用下面的方式简化数据表前缀的传入，例如：</p>
<pre class="calibre21"><code class="calibre22">Db::table('__USER__')-&gt;where('status&gt;1')-&gt;select();</code></pre>
<p class="calibre10">会自动获取当前模型对应的数据表前缀来生成 <code class="calibre7">think_user</code> 数据表名称。</p>
<p class="calibre10">需要注意的是table方法不会改变数据库的连接，所以你要确保当前连接的用户有权限操作相应的数据库和数据表。 切换数据表后，系统会自动重新获取切换后的数据表的字段缓存信息。</p>
<p class="calibre10">如果需要对多表进行操作，可以这样使用：</p>
<pre class="calibre21"><code class="calibre22">Db::field('user.name,role.title')
-&gt;table('think_user user,think_role role')
-&gt;limit(10)-&gt;select();</code></pre>
<p class="calibre10">为了尽量避免和mysql的关键字冲突，可以建议使用数组方式定义，例如：</p>
<pre class="calibre21"><code class="calibre22">Db::field('user.name,role.title')
-&gt;table(['think_user'=&gt;'user','think_role'=&gt;'role'])
-&gt;limit(10)-&gt;select();</code></pre>
<p class="calibre10">使用数组方式定义的优势是可以避免因为表名和关键字冲突而出错的情况。 </p>
</div>
	
</body></html>
