<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
  <head>
    <title>模板赋值</title>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
        <h1 class="book-title" id="calibre_toc_124">模板赋值</h1>
<div class="book-content">
    <h2 id="%E6%A8%A1%E6%9D%BF%E8%B5%8B%E5%80%BC" class="calibre15">模板赋值</h2>
<p class="calibre10">除了系统变量和配置参数输出无需赋值外，其他变量如果需要在模板中输出必须首先进行模板赋值操作，绑定数据到模板输出有下面几种方式：</p>
<table class="calibre25"><thead class="calibre26"><tr class="calibre27"><th class="calibre28">版本</th>
<th class="calibre28">新增功能</th>
</tr></thead><tbody class="calibre29"><tr class="calibre27"><td class="pcalibre1 calibre30">5.0.4</td>
<td class="calibre34 pcalibre1">增加全局静态模板赋值方法<code class="calibre7">share</code></td>
</tr></tbody></table><h3 id="%60assign%60%E6%96%B9%E6%B3%95" class="calibre17"><code class="calibre7">assign</code>方法</h3>
<pre class="calibre21"><code class="calibre22">namespace index\app\controller;

class Index extends \think\Controller
{
    public function index()
    {
        // 模板变量赋值
        $this-&gt;assign('name','ThinkPHP');
        $this-&gt;assign('email','thinkphp@qq.com');
        // 或者批量赋值
        $this-&gt;assign([
            'name'  =&gt; 'ThinkPHP',
            'email' =&gt; 'thinkphp@qq.com'
        ]);
        // 模板输出
        return $this-&gt;fetch('index');
    }
}</code></pre>
<h3 id="%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%E6%96%B9%E6%B3%95" class="calibre17">传入参数方法</h3>
<p class="calibre10">方法fetch 及 display 均可传入模版变量，例如</p>
<pre class="calibre21"><code class="calibre22">namespace app\index\controller;

class Index extends \think\Controller
{
    public function index()
    {
        return $this-&gt;fetch('index', [
            'name'  =&gt; 'ThinkPHP',
            'email' =&gt; 'thinkphp@qq.com'
        ]);
    }
}</code></pre>
<pre class="calibre21"><code class="calibre22">class Index extends \think\Controller
{
    public function index()
    {
        $content = '{$name}-{$email}';
        return $this-&gt;display($content, [
            'name'  =&gt; 'ThinkPHP',
            'email' =&gt; 'thinkphp@qq.com'
        ]);
    }
}</code></pre>
<h3 id="%E5%AF%B9%E8%B1%A1%E8%B5%8B%E5%80%BC" class="calibre17">对象赋值</h3>
<pre class="calibre21"><code class="calibre22">class Index extends \think\Controller
{
    public function index()
    {
        $view = $this-&gt;view;
        $view-&gt;name     = 'ThinkPHP';
        $view-&gt;email    = 'thinkphp@qq.com';
        // 模板输出
        return $view-&gt;fetch('index');
    }
}</code></pre>
<h3 id="%E5%8A%A9%E6%89%8B%E5%87%BD%E6%95%B0-6" class="calibre17">助手函数</h3>
<p class="calibre10">如果使用view助手函数渲染输出的话，可以使用下面的方法进行模板变量赋值：</p>
<pre class="calibre21"><code class="calibre22">return view('index', [
    'name'  =&gt; 'ThinkPHP',
    'email' =&gt; 'thinkphp@qq.com'
]);</code></pre>
<h3 id="%60share%60%E6%96%B9%E6%B3%95" class="calibre17"><code class="calibre7">share</code>方法</h3>
<p class="calibre10"><code class="calibre7">V5.0.4+</code>开始，支持在任何地方使用静态方法进行模板变量赋值，例如：</p>
<pre class="calibre21"><code class="calibre22">think\View::share('name','value');
// 或者批量赋值
think\View::share(['name1'=&gt;'value','name2'=&gt;'value2']);</code></pre>
<p class="calibre10">全局静态模板变量最终会和前面使用方法赋值的模板变量合并。</p>
</div>
	
</body></html>
